<html>
	<head>
		<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css">
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/solid.css" integrity="sha384-wnAC7ln+XN0UKdcPvJvtqIH3jOjs9pnKnq9qX68ImXvOGz2JuFoEiCjT8jyZQX2z" crossorigin="anonymous">
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/fontawesome.css" integrity="sha384-HbmWTHay9psM8qyzEKPc8odH4DsOuzdejtnr+OFtDmOcIVnhgReQ4GZBH7uwcjf6" crossorigin="anonymous">

		<style type="text/css">
			#list {
				margin: 1em auto;
				width: 80%;
			}

			.table td, .table th {
				white-space: nowrap;
			}

			.table th {
				background-color: #fff;
				position: sticky;
				top: 0;
				z-index: 10;
			}

			.sort:after {
				font-family: "Font Awesome 5 Free";
				font-weight: 900;
				margin-left: 1em;
				content: '';
			}
			.sort.asc:after {
				content: '\\f0de';
			}
			.sort.desc:after {
				content: '\\f0dd';
			}

			.error {
				color: red;
			}
		</style>
		<title>Trafi dummy - Info</title>
	</head>
	<body>
		<div id="list">
			<form>
				<input class="search" placeholder="Hae ...">
			</form>

			<table class="table table-striped">
				<thead>
					<tr>
						<th class="sort" data-sort="id">Tiedosto</th>
						<th class="sort" data-sort="type">Tyyppi</th>
						<th class="sort" data-sort="reg">Rekisteritunnus</th>
						<th class="sort" data-sort="vin">Valmistenumero</th>
						<th class="sort" data-sort="date">Kayttöönottopäivä</th>
						<th class="sort" data-sort="class">Ajoneuvoluokka</th>
						<th class="sort" data-sort="make">Merkki</th>
						<th class="sort" data-sort="model">Malli ja merkintä</th>
					</tr>
				</thead>
				<tbody class="list">
				{{#each items}}
					<tr>
						<td class="id">{{ xmllink @key }}</td>
						<td>
							<span class="type">{{ type }}</span>
							{{#with error}}
								<span class="error" title="{{ virheselite }}">({{ virhekoodi }})</span>
							{{/with}}
						</td>
						{{#with data}}
							{{#with tunnus}}
								<td>
									{{#if rekisteritunnus}}
										<span class="reg">{{ rekisteritunnus }}</span>
									{{/if}}
									{{#if edellinenRekisteritunnus}}
										<i class="fa fa-arrow-left"></i>
										<span class="reg">{{ edellinenRekisteritunnus }}</span>
									{{/if}}
								</td>
								<td class="vin">{{ default valmistenumero }}</td>
							{{else}}
								<td class="reg">--</td>
								<td class="vin">--</td>
							{{/with}}
							<td class="date" data-kayttoonottopvm="{{ajoneuvonPerustiedot.kayttoonottopvm}}">{{ date ajoneuvonPerustiedot.kayttoonottopvm }}</td>
							{{#with ajoneuvonTiedot}}
								<td class="class" data-ajoneuvoluokka="{{ajoneuvoluokka}}">{{ class2text ajoneuvoluokka }}</td>
								<td class="make">{{ default merkkiSelvakielinen }}</td>
								<td class="model">{{ default mallimerkinta }}</td>
							{{else}}
								<td class="class">--</td>
								<td class="make">--</td>
								<td class="model">--</td>
							{{/with}}
						{{/with}}
					</tr>
				{{/each}}
				</tbody>
			</table>
		</div>

		<script src="https://cdnjs.cloudflare.com/ajax/libs/list.js/1.5.0/list.min.js"></script>
		<script>
			new List('list', {
				valueNames: [
					'id',
					'type',
					'reg',
					'vin',
					{ name: 'date', attr: 'data-kayttoonottopvm' },
					{ name: 'class', attr: 'data-ajoneuvoluokka' },
					'make',
					'model'
				]
			});
		</script>
	</body>
</html>